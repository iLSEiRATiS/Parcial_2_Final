{% extends "base.html" %}
{% block title %}Scraper{% endblock %}
{% block content %}
<h2>Scraper Wikipedia</h2>
<form method="get" class="mb-3">
    <div class="input-group">
        <input type="text" class="form-control" placeholder="Buscar..." name="q" value="{{ query }}">
        <button class="btn btn-primary" type="submit">Buscar</button>
    </div>
</form>
{% if error %}<div class="alert alert-danger">{{ error }}</div>{% endif %}
{% for res in resultados %}
    <div class="card mb-3">
        <div class="card-body">
            <h5 class="card-title">{{ res.titulo }}</h5>
            <a href="{{ res.url }}" target="_blank">{{ res.url }}</a>
            <ul class="mt-2">
                {% for snip in res.snippets %}
                <li>{{ snip }}</li>
                {% endfor %}
            </ul>
        </div>
    </div>
{% empty %}
    {% if query %}<p>No se encontraron resultados.</p>{% endif %}
{% endfor %}
{% endblock %}
